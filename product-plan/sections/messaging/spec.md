# 消息通讯 Specification

## Overview
消息通讯是飞秋的核心功能，提供双栏布局的聊天界面，支持单聊和群聊。用户可以发送文字、表情、图片消息，支持@提醒、消息撤回、引用回复等增强功能。

## User Flows
- 打开消息通讯，左侧显示会话列表（包含单聊和群聊）
- 点击会话进入聊天窗口，查看历史消息
- 在输入框输入文字，或通过工具栏添加表情、图片、@提醒
- 发送消息（回车键），消息显示在聊天窗口
- 长按消息可以撤回、引用回复或添加表情反应
- 已发送消息显示已读/未读状态
- 会话列表显示最后消息预览、时间和未读数

## UI Requirements
- 双栏布局：左侧会话列表（280px），右侧聊天窗口（flex-1）
- 会话列表包含：头像、昵称、最后消息预览、时间、未读数徽章
- 支持会话置顶功能
- 聊天窗口显示：消息气泡（区分发送方和接收方）、时间戳
- 输入框支持：可调整大小、工具栏（表情、图片、@）、快捷键（回车发送）
- 消息支持：撤回、引用回复、表情反应、已读/未读状态
- 图片发送前支持预览

## Configuration
- shell: true
